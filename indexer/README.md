# CS50 TSE

## Amittai J. Wekesa (@siavava)

### Indexer Basic idea

This directory (./crawler) implements functionality for a Search Engine Indexer.

This Indexer expects the following commandline arguments:

1. A valid page directory containing files generated by a search engine Crawler, like the one implemented in the [crawler](../crawler) directory.

2. A file name in a valid directory wherein to save results of the generated index. While the file need not exist, the directory **MUST** exist.

***

### Functionality

The [indexer](./indexer.c) scans the specified directory for crawler-generated files, indexing the words in the webpages stored in the files.

***

### Usage

All build operations are implemented in the [Makefile](./Makefile).

To build, run `make`.

To clean up, run `make clean`.

To test the indexer module, run `make test`. Output from previous tests is available in the [testing.out](./testing.out) file, generated from [testing.sh](./testing.sh).

To test memory usage of the indexer, run `make memtest`. Output from previous tests is available in the [memcheck.out](./memcheck.out) file, generated from [memcheck.sh](./memcheck.sh).

To separately test the [index](../common/index.h) data structure, run `make indextest` and `make indextest_memcheck`.

The `index` is tested using a routine defined in `indextest.c`, which reads in data from a previously generated indexer file, re-writing it out to a new file, and comparing the two files for discrepancies.
Two shell scripts, [indextest.sh](./indextest.sh) and [indextest_memcheck.sh](./indextest_memcheck.sh), check the dunctionality and memory usage of [indextest.c](./indextest.c). See [indextest.out](./indextest.out) and [indextest_memcheck.out](./indextest_memcheck.out) for typical output.

Note: the testing scripts anticipate the existence of a `../data/output/[FOLDER]` location where `[FOLDER]` is a folder named in the fashion `seedURL-maxDepth` (for example, `letters-0`, `letters-10`, `wikipedia-1`, etc.).

**These folders and their contents are auto-generated by a make call to the Crawler when `make test` is run.**

**Please make sure those folders exist (run `make test`) before using the other testing scripts; they will not work elsewhile.**
